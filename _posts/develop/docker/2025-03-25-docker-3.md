---
layout: post
title: Docker系列3:Ubuntu安装docker
date: 2025-03-25 05:00:00 +0800
categories: [Docker系列]
tags: [Docker系列]
---
sudo apt update
sudo apt upgrade -y

安装基础依赖
sudo apt install -y ca-certificates curl gnupg lsb-release

第 3 步：添加 Docker 官方 GPG Key
sudo install -m 0755 -d /etc/apt/keyrings

curl -fsSL https://download.docker.com/linux/ubuntu/gpg \
| sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg

sudo chmod a+r /etc/apt/keyrings/docker.gpg

第 4 步：添加 Docker 官方软件源（关键）
echo \
"deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] \
https://download.docker.com/linux/ubuntu \
$(. /etc/os-release && echo "$VERSION_CODENAME") stable" \
| sudo tee /etc/apt/sources.list.d/docker.list > /dev/null


第 5 步：安装 Docker + Compose（一次完成）
sudo apt update

sudo apt install -y \
docker-ce \
docker-ce-cli \
containerd.io \
docker-buildx-plugin \
docker-compose-plugin


注意：
这里装的 docker-compose-plugin = Docker Compose v2
不要装老的 docker-compose

第 6 步：启动并设置 Docker 开机自启
sudo systemctl start docker
sudo systemctl enable docker

docker compose version


