---
layout: post
title: AIç³»åˆ—56:LangChain
date: 2025-06-11 05:30:00 +0800
categories: [AIç³»åˆ—]
tags: [AIç³»åˆ—]
---
LangChain æ˜¯ä¸€ä¸ªç”¨äºŽæž„å»ºåŸºäºŽ**å¤§è¯­è¨€æ¨¡åž‹ï¼ˆLLMï¼‰åº”ç”¨çš„å¼€æºæ¡†æž¶**ï¼Œç”± Harrison Chase äºŽ 2022 å¹´åˆ›å»ºã€‚å…¶æ ¸å¿ƒç›®æ ‡æ˜¯é€šè¿‡æ¨¡å—åŒ–è®¾è®¡ç®€åŒ– LLM ä¸Žå¤–éƒ¨å·¥å…·ã€æ•°æ®æºå’Œå·¥ä½œæµçš„é›†æˆï¼Œæ”¯æŒå¼€å‘è€…æž„å»ºå¤æ‚ä»»åŠ¡é“¾ï¼ˆå¦‚æ–‡æ¡£å¤„ç†â†’åˆ†æžâ†’æŠ¥å‘Šç”Ÿæˆï¼‰ã€Agent åŠ¨æ€å†³ç­–ç­‰åœºæ™¯ã€‚

æ˜¯ä¸€ä¸ªä¸“ä¸º**ç®€åŒ–å¤§è¯­è¨€æ¨¡åž‹ï¼ˆLLMï¼‰åº”ç”¨å¼€å‘**è€Œè®¾è®¡çš„å¼€æºæ¡†æž¶ï¼Œæ—¨åœ¨å¸®åŠ©å¼€å‘è€…é«˜æ•ˆæž„å»ºåŸºäºŽå¤§æ¨¡åž‹çš„æ™ºèƒ½åº”ç”¨ã€‚å®ƒé€šè¿‡æ¨¡å—åŒ–è®¾è®¡è§£å†³äº† LLM ä¸Žå¤–éƒ¨å·¥å…·ã€æ•°æ®æºåŠå¤æ‚é€»è¾‘çš„é›†æˆé—®é¢˜ï¼Œæ˜¯å½“å‰ LLM åº”ç”¨å¼€å‘çš„é¦–é€‰å·¥å…·ä¹‹ä¸€ã€‚ä»¥ä¸‹æ˜¯å…¶æ ¸å¿ƒåŠŸèƒ½ä¸Žç‰¹æ€§è¯¦è§£ï¼š

---

### ðŸ”§ ä¸€ã€LangChain æ ¸å¿ƒåŠŸèƒ½ä¸Žå®šä½
1. **æ¨¡å—åŒ–æž¶æž„**  
   - **å…­å¤§æ ¸å¿ƒç»„ä»¶**ï¼šModelsï¼ˆç»Ÿä¸€æ¨¡åž‹æŽ¥å£ï¼‰ã€Promptsï¼ˆåŠ¨æ€æç¤ºæ¨¡æ¿ï¼‰ã€Chainsï¼ˆä»»åŠ¡é“¾ç¼–æŽ’ï¼‰ã€Agentsï¼ˆå·¥å…·è°ƒç”¨ä¸Žå†³ç­–ï¼‰ã€Memoryï¼ˆå¯¹è¯çŠ¶æ€ç®¡ç†ï¼‰ã€Indexesï¼ˆå¤–éƒ¨æ•°æ®é›†æˆï¼‰ã€‚  
   - **æ ¸å¿ƒèƒ½åŠ›**ï¼š  
     - æ£€ç´¢å¢žå¼ºç”Ÿæˆï¼ˆRAGï¼‰ï¼šè§£å†³æ¨¡åž‹çŸ¥è¯†æ»žåŽé—®é¢˜ã€‚  
     - å¤šå·¥å…·ååŒï¼šæ”¯æŒè°ƒç”¨ Python REPLã€æœç´¢å¼•æ“Žã€API ç­‰æ‰©å±•åŠŸèƒ½ã€‚  
   - **å…¸åž‹åœºæ™¯**ï¼šæ–‡æ¡£é—®ç­”ã€å®¢æœæœºå™¨äººã€å¤šæ­¥éª¤è‡ªåŠ¨åŒ–ä»»åŠ¡ã€‚

---

### ðŸ†š äºŒã€LangChain çš„å¼€æºçƒ­é—¨ç«žå“å…¨æ™¯å›¾

#### ðŸ§  1. **ä¸“æ³¨æ£€ç´¢å¢žå¼ºï¼ˆRAGï¼‰**
- **LlamaIndex**  
  - **ç‰¹ç‚¹**ï¼šä¸“ç²¾æ–‡æ¡£ç´¢å¼•ä¼˜åŒ–ï¼Œæ”¯æŒé€é¡µç´¢å¼•ã€å¥å­çº§æ£€ç´¢å’Œè‡ªåŠ¨åˆå¹¶æŠ€æœ¯ï¼Œæ˜¾è‘—æå‡ RAG å“åº”é€Ÿåº¦ï¼ˆç›¸æ¯”åŸºç¡€æ–¹æ¡ˆæé€Ÿ 10 å€ï¼‰ã€‚  
  - **åœºæ™¯**ï¼šä¼ä¸šçŸ¥è¯†åº“é—®ç­”ã€å­¦æœ¯è®ºæ–‡åˆ†æžã€‚  
  - **ä¼˜åŠ¿**ï¼šå¼€ç®±å³ç”¨ï¼Œè½»é‡çº§ï¼›**å±€é™æ€§**ï¼šå¤šä»£ç†äº¤äº’èƒ½åŠ›å¼±ã€‚  
  - **åŒç±»å·¥å…·**ï¼šHaystackï¼ˆä¼ä¸šçº§æœç´¢ç³»ç»Ÿï¼Œæ”¯æŒæ··åˆæ£€ç´¢ BM25/å‘é‡ï¼‰ã€‚

#### ðŸ¤– 2. **å¤šæ™ºèƒ½ä½“åä½œæ¡†æž¶**
- **AutoGenï¼ˆå¾®è½¯ï¼‰**  
  - **ç‰¹ç‚¹**ï¼šåŸºäºŽå¯¹è¯æœºåˆ¶åè°ƒå¤šä¸ª Agentï¼ˆå¦‚â€œäº§å“ç»ç†+å·¥ç¨‹å¸ˆâ€ä»£ç†åä½œï¼‰ï¼Œæ”¯æŒä»»åŠ¡è‡ªåŠ¨åˆ†è§£ä¸Žå·¥å…·è°ƒç”¨ã€‚  
  - **åœºæ™¯**ï¼šä»£ç ç”Ÿæˆã€è·¨è§’è‰²å¤æ‚é—®é¢˜æ±‚è§£ã€‚  
  - **åŒç±»å·¥å…·**ï¼š  
    - **AWS Multi-Agent Orchestrator**ï¼šæ™ºèƒ½è·¯ç”±æŸ¥è¯¢è‡³æœ€ä¼˜ Agentï¼Œæ·±åº¦é›†æˆ AWS ç”Ÿæ€ã€‚  
    - **Agno**ï¼šé«˜æ€§èƒ½å¤šæ¨¡æ€å¼•æ“Žï¼ˆæ–‡æœ¬/å›¾åƒ/éŸ³é¢‘ï¼‰ï¼Œå¤„ç†é€Ÿåº¦è¶… LangGraph ä¸‡å€ã€‚

#### ðŸ¢ 3. **ä¼ä¸šçº§è§£å†³æ–¹æ¡ˆ**
- **Semantic Kernelï¼ˆå¾®è½¯ï¼‰**  
  - **ç‰¹ç‚¹**ï¼šè½»é‡çº§ SDKï¼Œæ·±åº¦é›†æˆ Azure OpenAIï¼›æ”¯æŒ C#/Python/Javaï¼Œé€šè¿‡ **Kernel å®¹å™¨**ç»Ÿä¸€ç®¡ç†æ’ä»¶ä¸ŽæœåŠ¡ï¼Œå¼ºè°ƒç”Ÿäº§çº§å®‰å…¨ä¸Žå¯è§‚æµ‹æ€§ã€‚  
  - **åœºæ™¯**ï¼šä¼ä¸š Copilotã€ä¸šåŠ¡æµç¨‹è‡ªåŠ¨åŒ–ã€‚  
- **PydanticAI**  
  - **ç‰¹ç‚¹**ï¼šåŸºäºŽ Python çš„å¼ºç±»åž‹æ¡†æž¶ï¼Œé›†æˆ Pydantic å®žçŽ°ç»“æž„åŒ–è¾“å‡ºä¸Žæ—¥å¿—ç›‘æŽ§ï¼Œé€‚åˆé«˜å¯é æ€§ç³»ç»Ÿã€‚

#### ðŸ§© 4. **ä½Žä»£ç /å¯è§†åŒ–å¼€å‘**
- **FlowiseAI**  
  - **ç‰¹ç‚¹**ï¼šæ‹–æ‹½å¼ç•Œé¢æž„å»º LLM åº”ç”¨ï¼Œå…¼å®¹ LangChain ç»„ä»¶ï¼Œæ”¯æŒå¿«é€ŸåŽŸåž‹è®¾è®¡ã€‚  
- **LangFlow**  
  - **ç‰¹ç‚¹**ï¼šLangChain çš„å¯è§†åŒ–ç‰ˆæœ¬ï¼Œé€šè¿‡èŠ‚ç‚¹è¿žæŽ¥å·¥ä½œæµã€‚

#### âš™ï¸ 5. **è½»é‡çº§ SDK ä¸Žæ–°å…´æ¡†æž¶
- **OpenAI Assistants API**  
  - **ç‰¹ç‚¹**ï¼šå®˜æ–¹è½»é‡çº§æ¡†æž¶ï¼Œå†…ç½®è®°å¿†ä¸Žå·¥å…·è°ƒç”¨ï¼Œé€‚åˆç®€å•ä»»åŠ¡ã€‚  
- **DSPyï¼ˆæ–¯å¦ç¦ï¼‰**  
  - **ç‰¹ç‚¹**ï¼šé€šè¿‡æç¤ºä¼˜åŒ–è€Œéžç¡¬ç¼–ç æž„å»ºç®¡é“ï¼Œå‡å°‘æ‰‹åŠ¨è°ƒå‚ã€‚  
- **Mastra**ï¼šTypeScript å…¨æ ˆæ¡†æž¶ï¼Œå†…ç½® RAG ä¸Žå·¥ä½œæµè¯„ä¼°å·¥å…·ã€‚

---

### ðŸ’Ž ä¸‰ã€æ¡†æž¶é€‰åž‹æŒ‡å—ï¼šæŒ‰åœºæ™¯åŒ¹é…æœ€ä½³å·¥å…·
| **éœ€æ±‚åœºæ™¯**               | **æŽ¨èæ¡†æž¶**                     | **å…³é”®ä¼˜åŠ¿**                              | **å±€é™æ€§**                  |
|----------------------------|----------------------------------|------------------------------------------|----------------------------|
| å¤æ‚å·¥ä½œæµç¼–æŽ’             | LangChain                        | æ¨¡å—åŒ–çµæ´»ï¼Œæ”¯æŒå¤šå·¥å…·é›†æˆ               | å­¦ä¹ æ›²çº¿é™¡å³­   |
| é«˜æ•ˆæ–‡æ¡£æ£€ç´¢ï¼ˆRAGï¼‰        | LlamaIndex + Haystack            | æ£€ç´¢é€Ÿåº¦ä¼˜åŒ–ï¼Œå·¥ä¸šçº§éƒ¨ç½²                 | å®šåˆ¶æ€§è¾ƒä½Ž    |
| å¤šè§’è‰²ä»»åŠ¡è‡ªåŠ¨åŒ–           | AutoGen                          | Agent ååŒä¸Žä»»åŠ¡åˆ†è§£                     | éžç¼–ç¨‹åœºæ™¯é€‚é…å¼± |
| ä¼ä¸šçº§ AI é›†æˆ             | Semantic Kernel / JBoltAI        | Azure ç”Ÿæ€å…¼å®¹ï¼Œç”Ÿäº§çº§å®‰å…¨               | ä¾èµ–å¾®è½¯æŠ€æœ¯æ ˆ |
| å¿«é€ŸåŽŸåž‹è®¾è®¡               | FlowiseAI / LangFlow             | é›¶ä»£ç å¯è§†åŒ–å¼€å‘                         | å¤æ‚é€»è¾‘æ”¯æŒæœ‰é™ |
| ç ”ç©¶å¯¼å‘/æç¤ºä¼˜åŒ–          | DSPy                             | è‡ªåŠ¨ä¼˜åŒ–æç¤ºç®¡é“                         | å­¦æœ¯åœºæ™¯ä¸ºä¸»   |

> ðŸ’¡ **ç»„åˆå®žè·µ**ï¼š  
> - **RAG ç³»ç»Ÿ**ï¼šLlamaIndexï¼ˆç´¢å¼•ï¼‰ + LangChainï¼ˆæµç¨‹ç¼–æŽ’ï¼‰ + AutoGenï¼ˆäººå·¥å®¡æ ¸ï¼‰ã€‚  
> - **ä¼ä¸šåº”ç”¨**ï¼šSemantic Kernelï¼ˆæ ¸å¿ƒé€»è¾‘ï¼‰ + TruLensï¼ˆç›‘æŽ§è¯„ä¼°ï¼‰ã€‚  
> **è¶‹åŠ¿**ï¼šæ¡†æž¶å‘**å¤šæ¨¡æ€æ”¯æŒ**ï¼ˆAgnoï¼‰ã€**æ— ä»£ç åŒ–**ï¼ˆAutoAgentï¼‰å’Œ**ç”Ÿäº§ç¨³å®šæ€§**ï¼ˆPydanticAIï¼‰æ¼”è¿›ã€‚




---

### ðŸ”§ å››ã€æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
1. **ç»Ÿä¸€æ¨¡åž‹æŽ¥å£ï¼ˆModelsï¼‰**  
   - æ”¯æŒå¤šç§ LLMï¼ˆå¦‚ OpenAI GPTã€ChatGLMã€Llama ç­‰å¼€æº/é—­æºæ¨¡åž‹ï¼‰å’Œ Embedding æ¨¡åž‹ï¼ˆå¦‚ BGEã€M3Eï¼‰ã€‚  
   - å¼€å‘è€…å¯å¿«é€Ÿåˆ‡æ¢æ¨¡åž‹ï¼Œæ— éœ€é‡å†™ä¸šåŠ¡é€»è¾‘ã€‚

2. **æç¤ºè¯ç®¡ç†ï¼ˆPromptsï¼‰**  
   - æä¾› `PromptTemplate` å’Œ `FewShotPromptTemplate` ç­‰å·¥å…·ï¼Œæ”¯æŒåŠ¨æ€ç”Ÿæˆé«˜è´¨é‡æç¤ºè¯ï¼Œä¼˜åŒ–æ¨¡åž‹è¾“å‡ºæ•ˆæžœã€‚

3. **æ•°æ®æ£€ç´¢å¢žå¼ºï¼ˆRetrieval-Augmented Generation, RAGï¼‰**  
   - æ”¯æŒæœ¬åœ°/äº‘ç«¯çŸ¥è¯†åº“æž„å»ºï¼š  
     - æ–‡æ¡£åŠ è½½ â†’ æ–‡æœ¬åˆ†å‰² â†’ å‘é‡åŒ– â†’ å­˜å‚¨è‡³å‘é‡æ•°æ®åº“ï¼ˆå¦‚ FAISSã€Milvusï¼‰  
     - ç”¨æˆ·æé—®æ—¶ï¼Œè‡ªåŠ¨æ£€ç´¢ç›¸å…³çŸ¥è¯†ç‰‡æ®µå¹¶æ³¨å…¥ Prompt ä¸Šä¸‹æ–‡ï¼Œæå‡å›žç­”å‡†ç¡®æ€§ã€‚

4. **ä»£ç†ä¸Žå·¥å…·é“¾ï¼ˆAgents & Toolsï¼‰**  
   - **Agent ç³»ç»Ÿ**ï¼šè®© LLM è‡ªä¸»è°ƒç”¨å·¥å…·å¤„ç†å¤æ‚ä»»åŠ¡ï¼ˆå¦‚è®¡ç®—ã€æœç´¢ã€API è°ƒç”¨ï¼‰ã€‚  
   - **è‡ªå®šä¹‰å·¥å…·**ï¼šé€šè¿‡ `@tool` è£…é¥°å™¨å°†ä»»æ„ Python å‡½æ•°è½¬åŒ–ä¸ºå·¥å…·ï¼ˆå¦‚æŸ¥è¯¢æ•°æ®åº“ã€ç”Ÿæˆå›¾è¡¨ï¼‰ã€‚  
   - **é“¾å¼å·¥ä½œæµï¼ˆChainsï¼‰**ï¼šç»„åˆå¤šä¸ªæ­¥éª¤ï¼ˆå¦‚ `LLMChain`ã€`LLMMathChain`ï¼‰ï¼Œå®žçŽ°å¤šè½®æŽ¨ç†ã€‚

5. **è®°å¿†ç®¡ç†ï¼ˆMemoryï¼‰**  
   æ”¯æŒä¼šè¯çŠ¶æ€å­˜å‚¨ï¼ˆå¦‚ `ConversationBufferMemory`ï¼‰ï¼Œå®žçŽ°å¤šè½®å¯¹è¯çš„ä¸Šä¸‹æ–‡è¿žè´¯æ€§ã€‚

---

### ðŸš€ äº”ã€å…¸åž‹åº”ç”¨åœºæ™¯
| **åœºæ™¯**                | **æ¡ˆä¾‹**                                                                 | **æŠ€æœ¯å®žçŽ°**                                  |
|-------------------------|--------------------------------------------------------------------------|---------------------------------------------|
| **æ™ºèƒ½é—®ç­”çŸ¥è¯†åº“**      | ä¼ä¸šæ–‡æ¡£åŠ©æ‰‹ã€å­¦æœ¯è®ºæ–‡åˆ†æž                                               | RAG + æœ¬åœ°å‘é‡åº“ï¼ˆå¦‚ LangChain-Chatchatï¼‰ |
| **è‡ªåŠ¨åŒ–å†³ç­–ä»£ç†**      | æ ¹æ®ç”¨æˆ·éœ€æ±‚æŽ¨èå•†å“ã€åˆ¶å®šæ—…è¡Œè®¡åˆ’                                         | Agent è°ƒç”¨å·¥å…·é“¾ï¼ˆå¦‚æ€§åˆ«è¯†åˆ«â†’å•†å“æŽ¨èï¼‰ |
| **ä»£ç ç”Ÿæˆä¸Žæ‰§è¡Œ**      | åŠ¨æ€ç¼–å†™å¹¶è¿è¡Œ Python ä»£ç ï¼ˆå¦‚ç”Ÿæˆå½©ç¥¨å·ç ï¼‰                                | `PythonREPLTool` é›†æˆ           |
| **å¤šæ¨¡æ€åº”ç”¨**          | ç»“åˆ DALLÂ·E ç”Ÿæˆå›¾ç‰‡æè¿° + LangChain è°ƒåº¦                                | å·¥å…·é“¾è°ƒç”¨å¤šæ¨¡æ€ API            |
| **ç§æœ‰åŒ–ä¼ä¸šåŠ©æ‰‹**      | å†…éƒ¨æ•°æ®å®‰å…¨æŸ¥è¯¢ï¼ˆå¦‚é‡‘èžã€æ”¿åŠ¡åœºæ™¯ï¼‰                                       | å®Œå…¨ç¦»çº¿éƒ¨ç½² + ä¸­æ–‡ä¼˜åŒ–æ¨¡åž‹ï¼ˆChatGLM3ï¼‰ |

---

### âš™ï¸ å…­ã€æŠ€æœ¯æž¶æž„ä¸Žç”Ÿæ€
1. **åˆ†å±‚æž¶æž„**  
   - **LangChain Core**ï¼šåŸºç¡€æŠ½è±¡å±‚ï¼ˆé“¾ã€ä»£ç†ã€è®°å¿†ç­‰æ ¸å¿ƒé€»è¾‘ï¼‰ã€‚  
   - **LangChain Community**ï¼šç¬¬ä¸‰æ–¹å·¥å…·é›†æˆï¼ˆå¦‚ Google æœç´¢ã€HuggingFace æ¨¡åž‹ï¼‰ã€‚  
   - **LangChain**ï¼šåº”ç”¨å±‚é“¾ä¸Žæ£€ç´¢ç­–ç•¥å®žçŽ°ã€‚

2. **ç”Ÿäº§çº§å·¥å…·**  
   - **LangSmith**ï¼šç›‘æŽ§ã€è°ƒè¯•ä¸Žè¯„ä¼° LLM åº”ç”¨æ€§èƒ½ã€‚  
   - **LangServe**ï¼šå°†é“¾éƒ¨ç½²ä¸º REST APIã€‚  
   - **LangGraph**ï¼šæž„å»ºå¤š Agent åä½œç³»ç»Ÿã€‚

3. **è·¨è¯­è¨€æ”¯æŒ**  
   - åŽŸç”Ÿæ”¯æŒ Python å’Œ JavaScriptï¼Œé€‚é…å…¨æ ˆå¼€å‘éœ€æ±‚ã€‚

---

### ðŸŒŸ ä¸ƒã€ä»£è¡¨é¡¹ç›®ï¼šLangChain-Chatchat
- **å®šä½**ï¼šåŸºäºŽ LangChain çš„ä¸­æ–‡ä¼˜åŒ–çŸ¥è¯†åº“è§£å†³æ–¹æ¡ˆï¼Œæ”¯æŒ**å®Œå…¨æœ¬åœ°åŒ–éƒ¨ç½²**ã€‚  
- **åŠŸèƒ½äº®ç‚¹**ï¼š  
  - é›†æˆä¸»æµä¸­æ–‡æ¨¡åž‹ï¼ˆChatGLM3ã€Qwenï¼‰å’Œ Embedding æ¨¡åž‹ï¼ˆBGE-large-zhï¼‰ã€‚  
  - æä¾› WebUI å’Œ API ä¸¤ç§äº¤äº’æ–¹å¼ï¼Œæ”¯æŒæ–‡æ¡£ä¸Šä¼ ä¸Žå‘é‡åŒ–å­˜å‚¨ã€‚  
- **éƒ¨ç½²çµæ´»æ€§**ï¼š  
  - **GPU æ¨¡å¼**ï¼šéœ€è¾ƒé«˜æ˜¾å­˜ï¼ˆå¦‚ ChatGLM3-6B éœ€ 14GBï¼‰ã€‚  
  - **è½»é‡æ¨¡å¼ï¼ˆLiteï¼‰**ï¼šæ— æ˜¾å¡è¦æ±‚ï¼Œé€šè¿‡åœ¨çº¿ APIï¼ˆå¦‚é€šä¹‰åƒé—®ã€æ™ºè°±AIï¼‰è¿è¡Œã€‚

---

### ðŸ’Ž æ€»ç»“  
LangChain çš„æ ¸å¿ƒä»·å€¼åœ¨äºŽ**æ ‡å‡†åŒ– LLM åº”ç”¨å¼€å‘æµç¨‹**ï¼Œå¼€å‘è€…æ— éœ€ä»Žé›¶è®¾è®¡å¤æ‚æž¶æž„ï¼Œå³å¯å®žçŽ°ï¼š  
- çŸ¥è¯†å¢žå¼ºé—®ç­”ï¼ˆRAGï¼‰  
- å¤šå·¥å…·åä½œä»£ç†ï¼ˆAgentsï¼‰  
- ä¼ä¸šçº§ç§æœ‰åŒ–éƒ¨ç½²  
å…¶æ¨¡å—åŒ–è®¾è®¡å¤§å¹…é™ä½Žå¼€å‘é—¨æ§›ï¼Œç»“åˆç”Ÿæ€å·¥å…·ï¼ˆå¦‚ LangSmithï¼‰å¯å¿«é€Ÿå®žçŽ°åŽŸåž‹åˆ°ç”Ÿäº§çš„è·¨è¶Šã€‚  


> - å¿«é€Ÿä½“éªŒï¼š`pip install langchain` å¹¶å°è¯• [å®˜æ–¹æ•™ç¨‹](https://python.langchain.com)ã€‚  
> - ä¸­æ–‡å®žè·µï¼šéƒ¨ç½² [LangChain-Chatchat](https://github.com/chatchat-space/Langchain-Chatchat) æž„å»ºæœ¬åœ°çŸ¥è¯†åº“ã€‚